\begin{tikzpicture}[node distance=2cm]

    % Nodes
    \node (start) [startstop] {Start};
    \node (init) [process, right of=start, xshift=2cm] {Init Variables};
    
    \node (x_loop) [process, below of=init] {Loop: j=0 to 2N, step 2 (x)};
    \node (check_first_x) [decision, below of=x_loop, yshift=-1cm] {First x found?};
    \node (set_first_x) [process, right of=check_first_x, xshift=3cm] {Set first\_x,\\ inc num\_x};
    
    \node (check_other_x) [decision, below of=check_first_x, yshift=-1cm] {Other x found?};
    \node (rowsum_x) [process, right of=check_other_x, xshift=3cm] {rowsum(x)};

    \node (cond_x_swap) [decision, below of=check_other_x, yshift=-1cm] {Swap x needed?};
    \node (rowswap_x) [process, right of=cond_x_swap, xshift=3cm] {rowswap(x)};

    \node (z_loop) [process, below of=cond_x_swap, yshift=-1cm] {Loop: j=0 to 2N, step 2 (z)};
    \node (check_first_z) [decision, below of=z_loop, yshift=-1cm] {First z found?};
    \node (set_first_z) [process, right of=check_first_z, xshift=3cm] {Set first\_z,\\ inc num\_z};

    \node (check_other_z) [decision, below of=check_first_z, yshift=-1cm] {Other z found?};
    \node (rowsum_z) [process, right of=check_other_z, xshift=3cm] {rowsum(z)};

    \node (cond_z_swap) [decision, below of=check_other_z, yshift=-1cm] {Swap z needed?};
    \node (rowswap_z) [process, right of=cond_z_swap, xshift=3cm] {rowswap(z)};

    \node (end) [startstop, below of=cond_z_swap, yshift=-1cm] {End};

    % Arrows
    \draw [arrow] (start) -- (init);
    \draw [arrow] (init) -- (x_loop);
    \draw [arrow] (x_loop) -- (check_first_x);
    \draw [arrow] (check_first_x) -- node[anchor=south] {yes} (set_first_x);
    \draw [arrow] (check_first_x) -- node[anchor=east] {no} (check_other_x);
    \draw [arrow] (check_other_x) -- node[anchor=south] {yes} (rowsum_x);
    \draw [arrow] (check_other_x) -- node[anchor=east] {no} (cond_x_swap);
    \draw [arrow] (cond_x_swap) -- node[anchor=south] {yes} (rowswap_x);
    \draw [arrow] (cond_x_swap) -- node[anchor=east] {no} (z_loop);

    \draw [arrow] (z_loop) -- (check_first_z);
    \draw [arrow] (check_first_z) -- node[anchor=south] {yes} (set_first_z);
    \draw [arrow] (check_first_z) -- node[anchor=east] {no} (check_other_z);
    \draw [arrow] (check_other_z) -- node[anchor=south] {yes} (rowsum_z);
    \draw [arrow] (check_other_z) -- node[anchor=east] {no} (cond_z_swap);
    \draw [arrow] (cond_z_swap) -- node[anchor=south] {yes} (rowswap_z);
    \draw [arrow] (cond_z_swap) -- node[anchor=east] {no} (end);

    \draw [arrow] (set_first_x) |- (check_other_x);
    \draw [arrow] (rowsum_x) |- (cond_x_swap);

    \draw [arrow] (set_first_z) |- (check_other_z);
    \draw [arrow] (rowsum_z) |- (cond_z_swap);

    \draw [arrow] (rowswap_x) |- (z_loop);
    \draw [arrow] (rowswap_z) -- (end);

\end{tikzpicture}
